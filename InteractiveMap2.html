<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Interactive Seating Map</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    /* Flex container for map and seat info */
    .content-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      flex-wrap: wrap;
    }
    /* Map container styling */
    .map-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      overflow: hidden;
      border: 1px solid #ccc;
      background: #fff;
      flex: 1 1 auto;
    }
    /* Responsive seating map image */
    #seating-map {
      width: 100%;
      height: auto;
      display: block;
    }
    /* SVG overlay container for highlighting */
    #highlight-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    /* Seat info container styling */
    #seat-info {
      flex: 0 0 300px;
      background: #fff;
      border: 1px solid #ccc;
      padding: 10px;
      box-sizing: border-box;
      min-height: 300px;
      text-align: center;
    }
    #seat-info img {
      max-width: 100%;
      display: block;
      margin: 0 auto 10px auto;
    }
    #seat-info .subtext {
      font-size: 0.9em;
      color: #666;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>Interactive Seating Map</h1>
  
  <!-- Content container for map and seat info -->
  <div class="content-container" id="content-container">
    <div class="map-container" id="map-container">
      <!-- Seating map image using the provided filename -->
      <img src="2025FCCSeatingMap.jpg" usemap="#image-map" id="seating-map" alt="Seating Map">
      <div id="highlight-container"></div>
    </div>
    <div id="seat-info">
      <!-- Default seat info when no area is hovered -->
      <img src="SeatingDefault.jpg" alt="Default Seating">
      <strong>Seating Overview</strong>
      <div class="subtext">Hover Over or Tap a Seat for Details</div>
    </div>
  </div>
  
  <!-- Image map definitions -->
  <map name="image-map">
    <!-- Sample area definitions â€“ update as needed -->
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="296,65,523,66,524,99,297,98" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="255,731,239,757,274,780,289,751" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="294,755,280,782,317,801,329,771" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="338,771,326,802,370,813,377,782" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="573,724,542,748,559,778,596,752" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="538,749,503,763,512,796,554,780" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="493,763,456,773,458,811,506,799" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="670,626,651,657,679,680,703,640" shape="poly">
    <area target="" alt="High Top For 2" title="High Top For 2" href="" coords="160,630,131,647,156,683,180,662" shape="poly">
    <area target="" alt="High Top Table For 4" title="High Top Table For 4" href="" coords="533,12,534,47,836,49,836,12" shape="poly">
    <!-- (Additional area tags omitted for brevity; update as needed) -->
  </map>
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const seatingMap = document.getElementById("seating-map");
      const highlightContainer = document.getElementById("highlight-container");
      const areas = document.getElementsByTagName("area");
      const seatInfo = document.getElementById("seat-info");
      const svgNS = "http://www.w3.org/2000/svg";
      
      // Define seat type details for all seating types using SeatingDefault.jpg.
      const seatTypeDetails = {
        "High Top For 2": {
          image: "SeatingDefault.jpg",
          cost: "$20"
        },
        "High Top Table For 4": {
          image: "SeatingDefault.jpg",
          cost: "$50"
        },
        "Canopy Table For 4": {
          image: "SeatingDefault.jpg",
          cost: "$55"
        },
        "VIP Table For 4": {
          image: "SeatingDefault.jpg",
          cost: "$75"
        },
        "VIP High Top For 2": {
          image: "SeatingDefault.jpg",
          cost: "$30"
        },
        "VIP Bench For 2": {
          image: "SeatingDefault.jpg",
          cost: "$25"
        },
        "Garden Bench For 2": {
          image: "SeatingDefault.jpg",
          cost: "$20"
        },
        "Single Stool": {
          image: "SeatingDefault.jpg",
          cost: "$15"
        },
        "Single Folding Chair": {
          image: "SeatingDefault.jpg",
          cost: "$10"
        }
      };
      
      // Default seat info details when no seat is hovered.
      const defaultDetails = {
        image: "AerialTent.jpg",
        text: "Seating Overview",
        subtext: "(Hover Over Map for Details)"
      };
      
      // Function to update the seat info panel with given details.
      function updateSeatInfo(details) {
        seatInfo.innerHTML = '<img src="' + details.image + '" alt="Seat Image">' +
                             '<strong>' + (details.text || '') + '</strong>' +
                             (details.cost ? ' - ' + details.cost : '') +
                             (details.subtext ? '<div class="subtext">' + details.subtext + '</div>' : '');
      }
      
      // Set default info initially.
      updateSeatInfo(defaultDetails);
      
      // Recalculate image map coordinates for responsiveness.
      function recalcImageMap() {
        const scale = seatingMap.clientWidth / seatingMap.naturalWidth;
        Array.from(areas).forEach(area => {
          if (!area.dataset.originalCoords) {
            area.dataset.originalCoords = area.getAttribute("coords");
          }
          const originalCoords = area.dataset.originalCoords.split(",").map(Number);
          const newCoords = originalCoords.map(coord => Math.round(coord * scale));
          area.setAttribute("coords", newCoords.join(","));
        });
        console.log("Recalculated image map coordinates");
      }
      
      seatingMap.addEventListener("load", recalcImageMap);
      if (seatingMap.complete) {
        recalcImageMap();
      }
      
      // Prevent click events on areas from reloading the page.
      Array.from(areas).forEach(area => {
        // If the href attribute is empty, set it to a dummy value.
        if (!area.getAttribute("href") || area.getAttribute("href").trim() === "") {
          area.setAttribute("href", "javascript:void(0);");
        }
        area.addEventListener("click", function(e) {
          e.preventDefault();
        });
      });
      
      // Clear any SVG highlights and reset seat info to default.
      function clearHighlights() {
        highlightContainer.innerHTML = "";
        updateSeatInfo(defaultDetails);
        console.log("Cleared highlights and reset seat info");
      }
      
      // Highlight all areas matching the seat type and update seat info.
      function highlightAreas(seatType) {
        clearHighlights();
        console.log("Highlighting seat type: " + seatType);
        const svg = document.createElementNS(svgNS, "svg");
        svg.setAttribute("width", seatingMap.clientWidth);
        svg.setAttribute("height", seatingMap.clientHeight);
        svg.style.position = "absolute";
        svg.style.top = 0;
        svg.style.left = 0;
        svg.style.pointerEvents = "none";
        
        Array.from(areas).forEach(area => {
          if (area.getAttribute("title") === seatType) {
            const coords = area.getAttribute("coords").split(",").map(Number);
            let points = [];
            for (let i = 0; i < coords.length; i += 2) {
              points.push(coords[i] + "," + coords[i+1]);
            }
            const polygon = document.createElementNS(svgNS, "polygon");
            polygon.setAttribute("points", points.join(" "));
            polygon.setAttribute("fill", "rgba(255, 255, 0, 0.5)");
            svg.appendChild(polygon);
          }
        });
        highlightContainer.appendChild(svg);
        
        // Update the seat info panel with the seat type details if available.
        if (seatTypeDetails[seatType]) {
          const details = seatTypeDetails[seatType];
          updateSeatInfo({
            image: details.image,
            text: seatType,
            cost: details.cost
          });
        } else {
          updateSeatInfo({ text: seatType });
        }
      }
      
      // Attach mouse and touch events to each area.
      Array.from(areas).forEach(area => {
        // Desktop: mouseover and mouseout events.
        area.addEventListener("mouseover", function() {
          const seatType = this.getAttribute("title");
          highlightAreas(seatType);
          console.log("Mouseover event on area: " + seatType);
        });
        area.addEventListener("mouseout", function() {
          clearHighlights();
          console.log("Mouseout event on area: " + this.getAttribute("title"));
        });
        // Mobile: touchstart and touchend events.
        area.addEventListener("touchstart", function(e) {
          e.preventDefault(); // Prevent triggering click events
          const seatType = this.getAttribute("title");
          highlightAreas(seatType);
          console.log("Touchstart event on area: " + seatType);
        });
        area.addEventListener("touchend", function(e) {
          clearHighlights();
          console.log("Touchend event on area: " + this.getAttribute("title"));
        });
      });
      
      window.addEventListener("resize", function() {
        recalcImageMap();
        clearHighlights();
      });
    });
  </script>
</body>
</html>
